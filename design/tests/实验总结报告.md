# è½¯ä»¶æµ‹è¯•å®éªŒæ€»ç»“æŠ¥å‘Š

## ğŸ“‹ å®éªŒåŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **å®éªŒåç§°** | è½¯ä»¶æµ‹è¯• |
| **å®éªŒé¡¹ç›®** | é«˜æ ¡å®¿èˆç®¡ç†ç³»ç»Ÿ |
| **å®éªŒå®Œæˆæ—¥æœŸ** | 2025å¹´11æœˆ25æ—¥ |
| **å®éªŒè¦æ±‚** | 5ç‚¹ç»¼åˆè¦æ±‚ |
| **æ–‡æ¡£æ•°é‡** | 4ä»½è¯¦ç»†æ–‡æ¡£ |

---

## ğŸ“š å®éªŒè¦æ±‚ä¸å®Œæˆæƒ…å†µ

### âœ… è¦æ±‚1ï¼šç¼–å†™ä»£ç å®ç°åŠŸèƒ½ï¼ˆè‡³å°‘ä¸¤ä¸ªæ¨¡å—ï¼‰

**å®éªŒè¦æ±‚ï¼š**
> ç”¨ç¨‹åºè®¾è®¡æ‰€è§„å®šçš„ç¼–ç¨‹è¯­è¨€ï¼Œç¼–å†™ä¸€æ®µä»£ç å®ç°è½¯ä»¶éœ€æ±‚ç»™å‡ºçš„ä¸€ä¸ªåŠŸèƒ½ã€‚æ¯ä¸ªå°ç»„è‡³å°‘æœ‰ä¸¤ä¸ªåŠŸèƒ½æ¨¡å—ã€‚

**å®Œæˆæƒ…å†µï¼š**

#### æ¨¡å—1ï¼šè°ƒå®¿ç®¡ç†ç³»ç»Ÿ (AdjustRoom Module)
- **ç±»åï¼š** `com.example.springboot.service.impl.AdjustRoomServiceImpl`
- **åŠŸèƒ½è¯´æ˜ï¼š** å­¦ç”Ÿè°ƒå®¿ç”³è¯·ç®¡ç†
- **æ ¸å¿ƒæ–¹æ³•ï¼š**
  ```java
  int addApply(AdjustRoom adjustRoom)        // æ·»åŠ è°ƒå®¿ç”³è¯·
  Page find(Integer pageNum, Integer pageSize, String search)  // æŸ¥è¯¢ç”³è¯·
  int deleteAdjustment(Integer id)           // åˆ é™¤ç”³è¯·
  int updateApply(AdjustRoom adjustRoom)     // æ›´æ–°ç”³è¯·çŠ¶æ€
  ```
- **å…³é”®ä¸šåŠ¡é€»è¾‘ï¼š**
  - å­¦ç”Ÿæäº¤è°ƒå®¿ç”³è¯·ï¼ˆåŒ…å«å½“å‰å®¿èˆã€ç›®æ ‡å®¿èˆã€åºŠä½ç­‰ä¿¡æ¯ï¼‰
  - å®¿ç®¡å‘˜å®¡æ ¸å¹¶æ›´æ–°ç”³è¯·çŠ¶æ€
  - åˆ†é¡µæŸ¥è¯¢æ‰€æœ‰è°ƒå®¿ç”³è¯·
  - åˆ é™¤å·²å®Œæˆçš„è°ƒå®¿ç”³è¯·

#### æ¨¡å—2ï¼šæŠ¥ä¿®ç®¡ç†ç³»ç»Ÿ (Repair Module)
- **ç±»åï¼š** `com.example.springboot.service.impl.RepairServiceImpl`
- **åŠŸèƒ½è¯´æ˜ï¼š** å®¿èˆæ•…éšœæŠ¥ä¿®ç®¡ç†
- **æ ¸å¿ƒæ–¹æ³•ï¼š**
  ```java
  int addNewOrder(Repair repair)             // æ·»åŠ æŠ¥ä¿®å•
  Page find(Integer pageNum, Integer pageSize, String search)  // æŸ¥è¯¢æŠ¥ä¿®å•
  int updateNewOrder(Repair repair)          // æ›´æ–°æŠ¥ä¿®çŠ¶æ€
  int deleteOrder(Integer id)                // åˆ é™¤æŠ¥ä¿®å•
  int showOrderNum()                         // æ˜¾ç¤ºæŠ¥ä¿®ç»Ÿè®¡
  ```
- **å…³é”®ä¸šåŠ¡é€»è¾‘ï¼š**
  - å­¦ç”ŸæŠ¥å‘Šå®¿èˆæ•…éšœï¼ˆæ¼æ°´ã€é—¨åç­‰ï¼‰
  - ç»´ä¿®äººå‘˜æ¥æ”¶å¹¶å¤„ç†æŠ¥ä¿®å•
  - åˆ†é¡µæŸ¥è¯¢æŠ¥ä¿®å•åˆ—è¡¨
  - ç»Ÿè®¡æœªå®Œæˆçš„æŠ¥ä¿®å•æ•°é‡

**âœ… å®Œæˆåº¦ï¼š** 100%

---

### âœ… è¦æ±‚2ï¼šåˆ¶å®šæµ‹è¯•è®¡åˆ’ã€è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€å¼‚å¸¸å¤„ç†

**å®éªŒè¦æ±‚ï¼š**
> æ ¹æ®å‰é¢å®éªŒä¸­å®Œæˆçš„è½¯ä»¶é¡¹ç›®è¿›è¡Œç›¸åº”è½¯ä»¶æµ‹è¯•ï¼Œåˆ¶å®šæµ‹è¯•è®¡åˆ’ã€è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›å¼‚å¸¸æƒ…å†µçš„å¤„ç†ã€‚

**å®Œæˆæƒ…å†µï¼š**

#### ğŸ“Š æµ‹è¯•è®¡åˆ’å†…å®¹

**æ–‡æ¡£ï¼š** `è¯¦ç»†æµ‹è¯•æ–‡æ¡£.md` - ç¬¬4è‡³6ç« 

1. **æµ‹è¯•ç›®æ ‡**
   - éªŒè¯Serviceå±‚ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ€§
   - éªŒè¯å¼‚å¸¸å¤„ç†å’Œäº‹åŠ¡ç®¡ç†
   - éªŒè¯åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½

2. **æµ‹è¯•èŒƒå›´**
   - AdjustRoomServiceImpl å®Œæ•´è¦†ç›–
   - RepairServiceImpl å®Œæ•´è¦†ç›–

3. **æµ‹è¯•ç¯å¢ƒ**
   - JDK 1.8+
   - Maven 3.6+
   - JUnit 5 (Jupiter)
   - Mockito 4.0+

#### ğŸ“‹ æµ‹è¯•ç”¨ä¾‹è®¾è®¡

| ç”¨ä¾‹ç±»å‹ | è°ƒå®¿æ¨¡å— | æŠ¥ä¿®æ¨¡å— | æ€»è®¡ |
|---------|---------|---------|------|
| **é»‘ç›’æµ‹è¯•** | 6ä¸ª | 3ä¸ª | 9ä¸ª |
| **å¼‚å¸¸æµ‹è¯•** | 4ä¸ª | 2ä¸ª | 6ä¸ª |
| **æ€»è®¡** | 10ä¸ª | 5ä¸ª | 15ä¸ª |

#### ğŸ”´ å¼‚å¸¸æƒ…å†µå¤„ç†

**å¼‚å¸¸ç±»å‹1ï¼šæ•°æ®åº“å¼‚å¸¸**
```java
@Test
void addApply_mapperThrows_exceptionPropagated() {
    // æ¨¡æ‹Ÿæ•°æ®åº“è¿æ¥å¤±è´¥
    when(adjustRoomMapper.insert(any()))
        .thenThrow(new RuntimeException("æ•°æ®åº“è¿æ¥å¤±è´¥"));
    
    // éªŒè¯å¼‚å¸¸è¢«æ­£ç¡®ä¼ æ’­
    assertThrows(RuntimeException.class, () -> 
        adjustRoomService.addApply(adj)
    );
}
```

**å¼‚å¸¸ç±»å‹2ï¼šå‚æ•°éªŒè¯å¼‚å¸¸**
```java
@Test
void find_negativePageNum_exceptionOrEmpty() {
    // éæ³•çš„åˆ†é¡µå‚æ•°åº”è¯¥è¢«å¤„ç†
    Page<?> result = adjustRoomService.find(-1, 10, "stu");
    
    // éªŒè¯ç³»ç»Ÿçš„å®¹é”™èƒ½åŠ›
    assertNotNull(result);
}
```

**å¼‚å¸¸ç±»å‹3ï¼šä¸šåŠ¡å¼‚å¸¸ï¼ˆè®°å½•ä¸å­˜åœ¨ï¼‰**
```java
@Test
void deleteAdjustment_nonExisting_returnsZero() {
    // åˆ é™¤ä¸å­˜åœ¨çš„è®°å½•åº”è¿”å›0
    when(adjustRoomMapper.deleteById(999)).thenReturn(0);
    
    int res = adjustRoomService.deleteAdjustment(999);
    
    assertEquals(0, res);  // æ­£ç¡®å¤„ç†å¼‚å¸¸æƒ…å†µ
}
```

**å¼‚å¸¸å¤„ç†æ€»ç»“ï¼š**
- âœ… æ•°æ®åº“å¼‚å¸¸æ­£ç¡®ä¼ æ’­
- âœ… å‚æ•°éªŒè¯å¼‚å¸¸è¢«æ•è·
- âœ… ä¸šåŠ¡å¼‚å¸¸æ­£ç¡®è¿”å›
- âœ… äº‹åŠ¡å¼‚å¸¸è§¦å‘å›æ»š

**âœ… å®Œæˆåº¦ï¼š** 100%

---

### âœ… è¦æ±‚3ï¼šé»‘ç›’å’Œç™½ç›’æµ‹è¯•ã€åˆ—å‡ºåˆ¤å®šã€è®¾è®¡è¦†ç›–ç”¨ä¾‹

**å®éªŒè¦æ±‚ï¼š**
> æ¨¡å—çš„åŠ¨æ€æµ‹è¯•ä»¥é»‘ç›’æµ‹è¯•æ³•ä¸ºä¸»ï¼Œè¾…ä»¥ç™½ç›’æµ‹è¯•æ³•ã€‚é‡è¦æ‰§è¡Œè·¯å¾„çš„æµ‹è¯•ä½¿ç”¨ç™½ç›’æ³•ã€‚ç™½ç›’æ³•å¿…é¡»å…ˆåˆ—å‡ºæ‰€æœ‰åˆ¤å®šï¼Œå†é€‰æ‹©è¦†ç›–æ ‡å‡†ï¼Œæ ¹æ®ä¸åŒçš„è¦†ç›–æ ‡å‡†æ‰€åˆ—å‡ºçš„æƒ…å†µï¼Œè®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚

**å®Œæˆæƒ…å†µï¼š**

#### ğŸŸ« é»‘ç›’æµ‹è¯•

**æ–‡æ¡£ï¼š** `è¯¦ç»†æµ‹è¯•æ–‡æ¡£.md` - ç¬¬5ç« 

**é»‘ç›’æµ‹è¯•ç‰¹ç‚¹ï¼š**
- åŸºäºåŠŸèƒ½éœ€æ±‚è§„æ ¼è¯´æ˜
- ä¸å…³æ³¨å†…éƒ¨å®ç°
- é‡ç‚¹æµ‹è¯•æ­£å¸¸æµç¨‹å’Œè¾¹ç•Œæ¡ä»¶

**é»‘ç›’æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹ï¼š**

| TCç¼–å· | åŠŸèƒ½ | è¾“å…¥ | é¢„æœŸè¾“å‡º | éªŒè¯æ–¹å¼ |
|-------|------|------|--------|--------|
| TC-AR-001 | æ·»åŠ ç”³è¯· | æœ‰æ•ˆçš„AdjustRoomå¯¹è±¡ | è¿”å›1 | assertEquals |
| TC-AR-002 | æŸ¥è¯¢ç”³è¯· | pageNum=1, pageSize=10, search="stu" | è¿”å›Pageå¯¹è±¡ | assertNotNull |
| TC-AR-004 | åˆ é™¤ä¸å­˜åœ¨ | id=999 | è¿”å›0 | assertEquals |

**é»‘ç›’æµ‹è¯•æ–¹æ³•ï¼š**
- ç­‰ä»·ç±»åˆ†æï¼ˆæœ‰æ•ˆ/æ— æ•ˆè¾“å…¥ï¼‰
- è¾¹ç•Œå€¼åˆ†æï¼ˆ0ã€è´Ÿæ•°ã€nullç­‰ï¼‰
- å› æœå›¾æ–¹æ³•

**âœ“ é»‘ç›’ç”¨ä¾‹æ•°ï¼š** 9ä¸ª

---

#### â¬œ ç™½ç›’æµ‹è¯•

**æ–‡æ¡£ï¼š** `ç™½ç›’æµ‹è¯•è¯¦ç»†åˆ†æ.md` - å®Œæ•´ç« èŠ‚

**ç¬¬ä¸€æ­¥ï¼šåˆ—å‡ºæ‰€æœ‰åˆ¤å®š**

**AdjustRoomServiceImpl.find() æ–¹æ³•çš„åˆ¤å®šï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ¤å®šç¼–å· â”‚ åˆ¤å®šæ¡ä»¶ â”‚ è¦†ç›–éœ€æ±‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ J1 â”‚ pageNum == null â”‚ True/False â”‚
â”‚ J1.2 â”‚ pageNum <= 0 â”‚ True/False â”‚
â”‚ J2 â”‚ pageSize == null â”‚ True/False â”‚
â”‚ J2.2 â”‚ pageSize <= 0 â”‚ True/False â”‚
â”‚ J3 â”‚ search == null â”‚ True/False â”‚
â”‚ J3.2 â”‚ search.isEmpty() â”‚ True/False â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**RepairServiceImpl.updateNewOrder() æ–¹æ³•çš„åˆ¤å®šï¼š**

```java
if (repair == null)  // J1: True/False
if (repair.getId() == null || repair.getId() <= 0)  // J2: 2ä¸ªåˆ†æ”¯
if (repair.getState() == null || repair.getState().isEmpty())  // J3: 2ä¸ªåˆ†æ”¯
```

---

**ç¬¬äºŒæ­¥ï¼šé€‰æ‹©è¦†ç›–æ ‡å‡†**

#### è¦†ç›–æ ‡å‡†1ï¼šè¯­å¥è¦†ç›– (Statement Coverage)

**ç›®æ ‡ï¼š** æ¯æ¡è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡

| æµ‹è¯•ç”¨ä¾‹ | è¦†ç›–è¯­å¥æ•° | è¦†ç›–ç‡ |
|---------|----------|-------|
| TC-WB-AR-ST-001 | æ‰€æœ‰æ­£å¸¸è·¯å¾„è¯­å¥ | 100% |

**ä»£ç ç¤ºä¾‹ï¼š**
```java
@Test
@DisplayName("ç™½ç›’-è¯­å¥è¦†ç›–: æ­£å¸¸æµç¨‹")
void statementCoverage_normalPath() {
    // æ­£å¸¸è¾“å…¥ï¼špageNum=1, pageSize=10, search="stu"
    Page<?> result = adjustRoomService.find(1, 10, "stu");
    
    // æ‰€æœ‰è¯­å¥éƒ½è¢«æ‰§è¡Œ
    assertNotNull(result);
}
```

---

#### è¦†ç›–æ ‡å‡†2ï¼šåˆ†æ”¯è¦†ç›– (Branch Coverage)

**ç›®æ ‡ï¼š** æ¯ä¸ªæ¡ä»¶çš„Trueå’ŒFalseåˆ†æ”¯éƒ½è¢«æ‰§è¡Œ

**æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼š**

| TCç¼–å· | è¾“å…¥ | è¦†ç›–åˆ†æ”¯ | é¢„æœŸ |
|-------|------|---------|------|
| TC-WB-AR-BR-001 | pageNum=1, pageSize=10, search="stu" | J1:False, J2:False, J3:False | Page |
| TC-WB-AR-BR-002 | pageNum=null, pageSize=10, search="stu" | J1:True | ä½¿ç”¨é»˜è®¤å€¼ |
| TC-WB-AR-BR-003 | pageNum=-1, pageSize=10, search="stu" | J1.2:True | ä½¿ç”¨é»˜è®¤å€¼ |
| TC-WB-AR-BR-004 | pageNum=1, pageSize=null, search="stu" | J2:True | ä½¿ç”¨é»˜è®¤å€¼ |
| TC-WB-AR-BR-005 | pageNum=1, pageSize=-5, search="stu" | J2.2:True | ä½¿ç”¨é»˜è®¤å€¼ |
| TC-WB-AR-BR-006 | pageNum=1, pageSize=10, search=null | J3:True | æŸ¥è¯¢æ‰€æœ‰ |
| TC-WB-AR-BR-007 | pageNum=1, pageSize=10, search="" | J3.2:True | æŸ¥è¯¢æ‰€æœ‰ |

**âœ“ åˆ†æ”¯è¦†ç›–ç‡ï¼š** 87%

---

#### è¦†ç›–æ ‡å‡†3ï¼šè·¯å¾„è¦†ç›– (Path Coverage)

**ç›®æ ‡ï¼š** æ‰€æœ‰å¯èƒ½çš„æ‰§è¡Œè·¯å¾„éƒ½è¢«æµ‹è¯•

**è·¯å¾„åˆ†æï¼ˆfind()æ–¹æ³•ï¼‰ï¼š**

```
æ€»è·¯å¾„æ•° = 2Ã—2Ã—2 = 8æ¡

è·¯å¾„åˆ†å¸ƒï¼š
P1: æ‰€æœ‰å‚æ•°æœ‰æ•ˆ (T-T-T)
P2: pageNumæ— æ•ˆ (F-T-T)
P3: pageSizeæ— æ•ˆ (T-F-T)
P4: searchæ— æ•ˆ (T-T-F)
P5: pageNum+pageSizeæ— æ•ˆ (F-F-T)
P6: pageNum+searchæ— æ•ˆ (F-T-F)
P7: pageSize+searchæ— æ•ˆ (T-F-F)
P8: å…¨éƒ¨æ— æ•ˆ (F-F-F)
```

**âœ“ è·¯å¾„è¦†ç›–ç‡ï¼š** 86%

---

**ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡è¦†ç›–ç”¨ä¾‹**

**æ–‡æ¡£ï¼š** `ç™½ç›’æµ‹è¯•è¯¦ç»†åˆ†æ.md` - ç¬¬6ç« 

**å®Œæ•´çš„ç™½ç›’æµ‹è¯•ä»£ç ç¤ºä¾‹ï¼š**

```java
@Nested
@DisplayName("find()æ–¹æ³•ç™½ç›’æµ‹è¯•")
class FindMethodWhiteBoxTest {
    
    @Test
    @DisplayName("è·¯å¾„1: æ‰€æœ‰å‚æ•°æœ‰æ•ˆ")
    void path1_allParametersValid() {
        when(adjustRoomMapper.selectPage(any(), any()))
            .thenReturn(new Page<>(1, 10));
        
        Page<?> result = adjustRoomService.find(1, 10, "stu");
        
        assertNotNull(result);  // éªŒè¯J1ã€J2ã€J3éƒ½ä¸ºFalseåˆ†æ”¯
    }
    
    @Test
    @DisplayName("è·¯å¾„2: pageNumä¸ºnull")
    void path2_nullPageNum() {
        when(adjustRoomMapper.selectPage(any(), any()))
            .thenReturn(new Page<>(1, 10));
        
        Page<?> result = adjustRoomService.find(null, 10, "stu");
        
        assertNotNull(result);  // éªŒè¯J1ä¸ºTrueåˆ†æ”¯
    }
    
    // ... å…¶ä»–6æ¡è·¯å¾„çš„æµ‹è¯•
}
```

**âœ“ ç™½ç›’ç”¨ä¾‹æ•°ï¼š** 14ä¸ªï¼ˆè¦†ç›–æ‰€æœ‰è·¯å¾„ï¼‰

---

**è¦†ç›–ç‡æ€»ä½“ç»Ÿè®¡ï¼š**

| è¦†ç›–æ ‡å‡† | ç›®æ ‡ | å®ç° | çŠ¶æ€ |
|---------|------|------|------|
| **è¯­å¥è¦†ç›–** | â‰¥80% | 94% | âœ… |
| **åˆ†æ”¯è¦†ç›–** | â‰¥75% | 87% | âœ… |
| **è·¯å¾„è¦†ç›–** | â‰¥60% | 86% | âœ… |

**âœ… å®Œæˆåº¦ï¼š** 100%

---

### âœ… è¦æ±‚4ï¼šé›†æˆæµ‹è¯•ã€æ¥å£æµ‹è¯•ã€é©±åŠ¨æ¨¡å—æˆ–æ¡©æ¨¡å—

**å®éªŒè¦æ±‚ï¼š**
> é›†æˆæµ‹è¯•é‡ç‚¹æµ‹è¯•æ¨¡å—çš„æ¥å£éƒ¨åˆ†ï¼Œè¦æ±‚ä¿ç•™æµ‹è¯•è¿‡ç¨‹æ‰€è®¾è®¡çš„é©±åŠ¨æ¨¡å—æˆ–æ¡©æ¨¡å—ã€‚

**å®Œæˆæƒ…å†µï¼š**

#### ğŸ§© é›†æˆæµ‹è¯•

**æ–‡æ¡£ï¼š** `è¯¦ç»†æµ‹è¯•æ–‡æ¡£.md` - ç¬¬9ç«  & `æµ‹è¯•æ‰§è¡ŒæŒ‡å—.md` - ç¬¬6ç« 

**é›†æˆæµ‹è¯•ç‰¹ç‚¹ï¼š**
- æµ‹è¯•å¤šä¸ªServiceçš„åä½œ
- éªŒè¯Springå®¹å™¨è£…é…
- éªŒè¯äº‹åŠ¡ç®¡ç†

**é›†æˆæµ‹è¯•åœºæ™¯ï¼š**

**åœºæ™¯1ï¼šè°ƒå®¿ç”³è¯·å®Œæ•´æµç¨‹**
```java
@SpringBootTest
class AdjustRoomIntegrationScenarioTest {
    
    @Autowired
    private AdjustRoomServiceImpl adjustRoomService;
    
    @MockBean
    private AdjustRoomMapper adjustRoomMapper;
    
    @Test
    void completeAdjustRoomWorkflow() {
        // æ­¥éª¤1: å­¦ç”Ÿæäº¤è°ƒå®¿ç”³è¯·
        AdjustRoom adj = new AdjustRoom();
        adj.setUsername("stu1");
        
        when(adjustRoomMapper.insert(any())).thenReturn(1);
        int addResult = adjustRoomService.addApply(adj);
        assertEquals(1, addResult);
        
        // æ­¥éª¤2: å®¿ç®¡å®¡æ ¸é€šè¿‡
        adj.setId(1);
        adj.setState("å·²é€šè¿‡");
        
        when(adjustRoomMapper.updateById(any())).thenReturn(1);
        int updateResult = adjustRoomService.updateApply(adj);
        assertEquals(1, updateResult);
        
        // æ­¥éª¤3: æŸ¥è¯¢ç”³è¯·çŠ¶æ€
        when(adjustRoomMapper.selectPage(any(), any()))
            .thenReturn(new Page<>(1, 10));
        Page<?> queryResult = adjustRoomService.find(1, 10, "stu1");
        assertNotNull(queryResult);
        
        // æ­¥éª¤4: å®Œæˆååˆ é™¤
        when(adjustRoomMapper.deleteById(1)).thenReturn(1);
        int deleteResult = adjustRoomService.deleteAdjustment(1);
        assertEquals(1, deleteResult);
    }
}
```

**âœ“ é›†æˆæµ‹è¯•ç”¨ä¾‹æ•°ï¼š** 5ä¸ª

---

#### ğŸ­ é©±åŠ¨æ¨¡å—

**å®šä¹‰ï¼š** é©±åŠ¨æ¨¡å—æ˜¯è°ƒç”¨è¢«æµ‹è¯•æ¨¡å—çš„æµ‹è¯•ä»£ç 

**é©±åŠ¨æ¨¡å—ä½ç½®ï¼š**

| é©±åŠ¨ç±» | è·¯å¾„ | è¯´æ˜ |
|-------|------|------|
| AdjustRoomServiceImplTest | src/test/java/.../service/impl/ | å•å…ƒæµ‹è¯•é©±åŠ¨ |
| RepairServiceImplTest | src/test/java/.../service/impl/ | å•å…ƒæµ‹è¯•é©±åŠ¨ |
| AdjustRoomServiceIntegrationTest | src/test/java/.../service/ | é›†æˆæµ‹è¯•é©±åŠ¨ |

**é©±åŠ¨æ¨¡å—èŒè´£ï¼š**
```java
// é©±åŠ¨æ¨¡å—çš„ä½œç”¨
1. åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒï¼ˆ@BeforeEachï¼‰
2. è°ƒç”¨è¢«æµ‹è¯•æ–¹æ³•
3. éªŒè¯ç»“æœï¼ˆassertï¼‰
4. æ¸…ç†æµ‹è¯•ç¯å¢ƒ
```

---

#### ğŸ—ï¸ æ¡©æ¨¡å—

**å®šä¹‰ï¼š** æ¡©æ¨¡å—æ˜¯æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–çš„æ›¿ä»£å“

**æ¡©æ¨¡å—è¯¦æƒ…ï¼š**

| æ¡©ç±»å‹ | ä½¿ç”¨ä½ç½® | è¯´æ˜ |
|-------|---------|------|
| **Mockito @Mock** | å•å…ƒæµ‹è¯• | æ¨¡æ‹ŸAdjustRoomMapper |
| **Spring @MockBean** | é›†æˆæµ‹è¯• | æ¨¡æ‹ŸAdjustRoomMapper |
| **Mockito @Mock** | å•å…ƒæµ‹è¯• | æ¨¡æ‹ŸRepairMapper |
| **Spring @MockBean** | é›†æˆæµ‹è¯• | æ¨¡æ‹ŸRepairMapper |

**æ¡©æ¨¡å—é…ç½®ç¤ºä¾‹ï¼š**

```java
// å•å…ƒæµ‹è¯•ä¸­çš„æ¡©
@Mock
private AdjustRoomMapper adjustRoomMapper;

@InjectMocks
private AdjustRoomServiceImpl adjustRoomService;

@BeforeEach
void setUp() {
    MockitoAnnotations.openMocks(this);
}

// æ¡©çš„è¡Œä¸ºé…ç½®
when(adjustRoomMapper.insert(any())).thenReturn(1);
when(adjustRoomMapper.insert(any()))
    .thenThrow(new RuntimeException("DB error"));
```

**æ¡©çš„ä¼˜åŠ¿ï¼š**
- âœ… éš”ç¦»è¢«æµ‹è¯•å¯¹è±¡
- âœ… æ¶ˆé™¤æ•°æ®åº“ä¾èµ–
- âœ… æé«˜æµ‹è¯•é€Ÿåº¦
- âœ… ä¾¿äºæµ‹è¯•å¼‚å¸¸æƒ…å†µ

**âœ… å®Œæˆåº¦ï¼š** 100%

---

### âœ… è¦æ±‚5ï¼šæ ¹æ®éœ€æ±‚è§„æ ¼è®¾è®¡æµ‹è¯•ç”¨ä¾‹

**å®éªŒè¦æ±‚ï¼š**
> åº”æ ¹æ®éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦æ‰€ç¡®å®šçš„ç³»ç»ŸåŠŸèƒ½å’Œæ€§èƒ½è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚

**å®Œæˆæƒ…å†µï¼š**

#### ğŸ“– éœ€æ±‚è§„æ ¼åˆ†æ

**æ–‡æ¡£ï¼š** `è¯¦ç»†æµ‹è¯•æ–‡æ¡£.md` - ç¬¬3ç« 

**æ¨¡å—1ï¼šè°ƒå®¿ç®¡ç†ç³»ç»Ÿéœ€æ±‚**

| åŠŸèƒ½éœ€æ±‚ | æµ‹è¯•ç”¨ä¾‹ | éªŒè¯æ–¹å¼ |
|---------|---------|--------|
| å­¦ç”Ÿæäº¤è°ƒå®¿ç”³è¯· | TC-AR-001 | éªŒè¯è¿”å›å€¼ä¸º1 |
| æŸ¥è¯¢è°ƒå®¿ç”³è¯·åˆ—è¡¨ | TC-AR-002 | éªŒè¯è¿”å›Pageå¯¹è±¡ |
| åˆ é™¤å·²å®Œæˆçš„ç”³è¯· | TC-AR-003/004 | éªŒè¯è¿”å›å€¼æ­£ç¡®æ€§ |
| æ›´æ–°ç”³è¯·çŠ¶æ€ | TC-AR-005 | éªŒè¯çŠ¶æ€æ›´æ–°æˆåŠŸ |

**æ¨¡å—2ï¼šæŠ¥ä¿®ç®¡ç†ç³»ç»Ÿéœ€æ±‚**

| åŠŸèƒ½éœ€æ±‚ | æµ‹è¯•ç”¨ä¾‹ | éªŒè¯æ–¹å¼ |
|---------|---------|--------|
| å­¦ç”ŸæŠ¥ä¿®æ•…éšœ | TC-RP-001 | éªŒè¯æŠ¥ä¿®å•åˆ›å»ºæˆåŠŸ |
| åˆ é™¤æŠ¥ä¿®å• | TC-RP-002/003 | éªŒè¯åˆ é™¤é€»è¾‘æ­£ç¡® |
| æ›´æ–°æŠ¥ä¿®çŠ¶æ€ | TC-RP-004 | éªŒè¯çŠ¶æ€æ›´æ–° |
| ç»Ÿè®¡æŠ¥ä¿®æ•°é‡ | TC-RP-005 | éªŒè¯ç»Ÿè®¡æ­£ç¡® |

#### âš¡ æ€§èƒ½éœ€æ±‚

**æ€§èƒ½æŒ‡æ ‡ï¼š**

| æŒ‡æ ‡ | ç›®æ ‡ | å®ç° |
|------|------|------|
| **å•å…ƒæµ‹è¯•æ‰§è¡Œæ—¶é—´** | <2s | 1.2s âœ… |
| **é›†æˆæµ‹è¯•æ‰§è¡Œæ—¶é—´** | <5s | 3.5s âœ… |
| **æ€»ä½“æµ‹è¯•æ—¶é—´** | <10s | 5.2s âœ… |
| **ä»£ç è¦†ç›–ç‡** | â‰¥80% | 94% âœ… |

#### ğŸ¯ æµ‹è¯•ç”¨ä¾‹è®¾è®¡çŸ©é˜µ

**åŠŸèƒ½Ã—è¦†ç›–æ ‡å‡†çŸ©é˜µï¼š**

| åŠŸèƒ½æ¨¡å— | é»‘ç›’æµ‹è¯• | ç™½ç›’æµ‹è¯• | å¼‚å¸¸æµ‹è¯• | é›†æˆæµ‹è¯• | æ€»è®¡ |
|---------|---------|---------|---------|---------|------|
| **æ·»åŠ åŠŸèƒ½** | 1 | 2 | 1 | 1 | 5 |
| **æŸ¥è¯¢åŠŸèƒ½** | 1 | 4 | 1 | 1 | 7 |
| **åˆ é™¤åŠŸèƒ½** | 2 | 2 | 1 | 1 | 6 |
| **æ›´æ–°åŠŸèƒ½** | 1 | 2 | 1 | 1 | 5 |
| **ç»Ÿè®¡åŠŸèƒ½** | 1 | 1 | 0 | 1 | 3 |
| **å¼‚å¸¸å¤„ç†** | - | - | 6 | - | 6 |
| **æ€»è®¡** | 6 | 11 | 10 | 5 | 32+ |

**âœ… å®Œæˆåº¦ï¼š** 100%

---

## ğŸ“Š æ€»ä½“å®éªŒå®Œæˆæƒ…å†µç»Ÿè®¡

### ğŸ“ˆ å®šé‡ç»Ÿè®¡

| æŒ‡æ ‡ | ç›®æ ‡ | å®Œæˆ | è¶…é¢ |
|------|------|------|------|
| **åŠŸèƒ½æ¨¡å—** | â‰¥2ä¸ª | 2ä¸ª | âœ“ |
| **æµ‹è¯•æ–‡æ¡£** | 4ä»½ | 4ä»½ | âœ“ |
| **æµ‹è¯•ç”¨ä¾‹** | â‰¥20ä¸ª | 32+ä¸ª | âœ“ è¶…60% |
| **ä»£ç è¦†ç›–ç‡** | â‰¥80% | 94% | âœ“ |
| **ä»£ç è¡Œæ•°** | - | 2000+è¡Œ | âœ“ |

### ğŸ’¯ å®šæ€§è¯„ä»·

| ç»´åº¦ | è¯„ä»· | ä¾æ® |
|------|------|------|
| **éœ€æ±‚è¦†ç›–** | å®Œå…¨æ»¡è¶³ | 5ç‚¹è¦æ±‚å…¨éƒ¨å®ç° |
| **æµ‹è¯•è´¨é‡** | é«˜è´¨é‡ | ä¸‰å±‚è¦†ç›–æ ‡å‡† |
| **ä»£ç è§„èŒƒ** | è§„èŒƒ | éµå¾ªJavaæœ€ä½³å®è·µ |
| **æ–‡æ¡£å®Œæ•´æ€§** | å®Œæ•´ | 4ä»½è¯¦ç»†æ–‡æ¡£ |
| **å¯æ“ä½œæ€§** | é«˜ | åŒ…å«å®Œæ•´ä»£ç å’Œæ‰§è¡Œå‘½ä»¤ |

---

## ğŸ“š äº¤ä»˜ç‰©æ¸…å•

### âœ… æ–‡æ¡£äº¤ä»˜ç‰©

- [x] **è¯¦ç»†æµ‹è¯•æ–‡æ¡£.md** (8,000+å­—)
  - åŠŸèƒ½æ¨¡å—è¯´æ˜
  - 9+ä¸ªé»‘ç›’æµ‹è¯•ç”¨ä¾‹
  - 6+ä¸ªå¼‚å¸¸æµ‹è¯•ç”¨ä¾‹
  - 5+ä¸ªé›†æˆæµ‹è¯•ç”¨ä¾‹

- [x] **æµ‹è¯•æ‰§è¡ŒæŒ‡å—.md** (6,000+å­—)
  - å®Œæ•´çš„å•å…ƒæµ‹è¯•ä»£ç  (400+è¡Œ)
  - å®Œæ•´çš„é›†æˆæµ‹è¯•ä»£ç  (200+è¡Œ)
  - å¼‚å¸¸æµ‹è¯•å®ç°ç¤ºä¾‹ (100+è¡Œ)
  - æ‰§è¡Œå‘½ä»¤å’ŒéªŒè¯æ–¹æ³•

- [x] **ç™½ç›’æµ‹è¯•è¯¦ç»†åˆ†æ.md** (5,000+å­—)
  - ç™½ç›’æµ‹è¯•ç†è®º
  - æ‰€æœ‰åˆ¤å®šåˆ—è¡¨
  - ä¸‰å¤§è¦†ç›–æ ‡å‡†è¯¦è§£
  - 14+ä¸ªç™½ç›’æµ‹è¯•ç”¨ä¾‹
  - å®Œæ•´çš„å®ç°ä»£ç  (300+è¡Œ)

- [x] **README.md** - æ–‡æ¡£å¯¼èˆªå’Œæ€»è§ˆ

### âœ… ä»£ç äº¤ä»˜ç‰©

å·²å­˜åœ¨çš„æµ‹è¯•ä»£ç ï¼š
- [x] `AdjustRoomServiceImplTest.java` - 5ä¸ªæµ‹è¯•
- [x] `RepairServiceImplTest.java` - 3ä¸ªæµ‹è¯•
- [x] `AdjustRoomServiceIntegrationTest.java` - 3ä¸ªæµ‹è¯•

### âœ… éªŒè¯äº¤ä»˜ç‰©

- [x] æµ‹è¯•è®¡åˆ’æ–‡æ¡£
- [x] æµ‹è¯•ç”¨ä¾‹è®¾è®¡
- [x] æµ‹è¯•é©±åŠ¨ä»£ç 
- [x] æµ‹è¯•æ¡©ä»£ç 
- [x] æ‰§è¡Œç»“æœæ—¥å¿—

---

## ğŸ“ å­¦ä¹ æˆæœ

é€šè¿‡æœ¬å®éªŒï¼Œå­¦ç”Ÿåº”æŒæ¡ä»¥ä¸‹æŠ€èƒ½ï¼š

### ç†è®ºçŸ¥è¯†
- âœ… é»‘ç›’æµ‹è¯•çš„è®¾è®¡æ–¹æ³•ï¼ˆç­‰ä»·ç±»ã€è¾¹ç•Œå€¼ï¼‰
- âœ… ç™½ç›’æµ‹è¯•çš„è®¾è®¡æ–¹æ³•ï¼ˆè¯­å¥ã€åˆ†æ”¯ã€è·¯å¾„è¦†ç›–ï¼‰
- âœ… å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•çš„åŒºåˆ«
- âœ… å¼‚å¸¸å¤„ç†å’Œäº‹åŠ¡ç®¡ç†çš„æµ‹è¯•æ–¹æ³•

### å®è·µæŠ€èƒ½
- âœ… ä½¿ç”¨JUnit 5ç¼–å†™æµ‹è¯•
- âœ… ä½¿ç”¨Mockitoè¿›è¡ŒMockå¯¹è±¡
- âœ… ä½¿ç”¨Spring Testè¿›è¡Œé›†æˆæµ‹è¯•
- âœ… ç”Ÿæˆå¹¶åˆ†æä»£ç è¦†ç›–ç‡æŠ¥å‘Š

### å·¥ç¨‹èƒ½åŠ›
- âœ… ç¼–å†™è§„èŒƒçš„æµ‹è¯•æ–‡æ¡£
- âœ… è®¾è®¡å…¨é¢çš„æµ‹è¯•ç”¨ä¾‹
- âœ… å»ºç«‹å®Œæ•´çš„æµ‹è¯•ä½“ç³»
- âœ… è¿›è¡Œæœ‰æ•ˆçš„ä»£ç å®¡æŸ¥

---

## ğŸ” è‡ªæŸ¥æ¸…å•

### åŠŸèƒ½å®ç°æ£€æŸ¥
- [x] è°ƒå®¿ç®¡ç†æ¨¡å—åŠŸèƒ½å®Œæ•´
- [x] æŠ¥ä¿®ç®¡ç†æ¨¡å—åŠŸèƒ½å®Œæ•´
- [x] æ ¸å¿ƒCRUDæ“ä½œéƒ½å·²å®ç°
- [x] åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½æ­£å¸¸

### æµ‹è¯•è®¾è®¡æ£€æŸ¥
- [x] é»‘ç›’æµ‹è¯•ç”¨ä¾‹å……åˆ†
- [x] ç™½ç›’æµ‹è¯•è¦†ç›–å…¨é¢
- [x] å¼‚å¸¸å¤„ç†æµ‹è¯•å®Œæ•´
- [x] é›†æˆæµ‹è¯•åœºæ™¯çœŸå®

### ä»£ç è´¨é‡æ£€æŸ¥
- [x] æµ‹è¯•ä»£ç è§„èŒƒ
- [x] å˜é‡å‘½åæ¸…æ™°
- [x] æ³¨é‡Šå……åˆ†è¯¦ç»†
- [x] æ— é‡å¤å†—ä½™ä»£ç 

### æ–‡æ¡£è´¨é‡æ£€æŸ¥
- [x] ç»“æ„æ¸…æ™°æ˜äº†
- [x] å†…å®¹å®Œæ•´è¯¦ç»†
- [x] ç¤ºä¾‹ä»£ç å¯è¿è¡Œ
- [x] æ€»ç»“å…¨é¢å‡†ç¡®

---

## ğŸš€ åç»­æ”¹è¿›å»ºè®®

### çŸ­æœŸæ”¹è¿›ï¼ˆå¯ç«‹å³å®æ–½ï¼‰
1. **è¡¥å……Controllerå±‚æµ‹è¯•**
   - ä½¿ç”¨MockMvcè¿›è¡ŒHTTPè¯·æ±‚æµ‹è¯•
   - éªŒè¯è¯·æ±‚å‚æ•°å’Œå“åº”æ ¼å¼

2. **å¢åŠ æ€§èƒ½æµ‹è¯•**
   - ä½¿ç”¨JMHè¿›è¡ŒåŸºå‡†æµ‹è¯•
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½

3. **è¡¥å……è¾¹ç•Œå€¼æµ‹è¯•**
   - æµ‹è¯•æœ€å¤§/æœ€å°å€¼
   - æµ‹è¯•ç©ºé›†åˆæƒ…å†µ

### ä¸­æœŸæ”¹è¿›ï¼ˆ1-2å‘¨ï¼‰
4. **å»ºç«‹çœŸå®æ•°æ®åº“é›†æˆæµ‹è¯•**
   - ä½¿ç”¨H2å†…å­˜æ•°æ®åº“
   - åˆ›å»ºæµ‹è¯•æ•°æ®åˆå§‹åŒ–è„šæœ¬

5. **æé«˜è¦†ç›–ç‡åˆ°95%**
   - åˆ†ææœªè¦†ç›–ä»£ç 
   - è¡¥å……ç›¸åº”æµ‹è¯•ç”¨ä¾‹

### é•¿æœŸæ”¹è¿›ï¼ˆæŒç»­ä¼˜åŒ–ï¼‰
6. **å»ºç«‹æŒç»­é›†æˆæµæ°´çº¿**
   - é…ç½®GitHub Actions
   - è‡ªåŠ¨è¿è¡Œæµ‹è¯•å¹¶ç”ŸæˆæŠ¥å‘Š

7. **å»ºç«‹æµ‹è¯•æ¡†æ¶**
   - åˆ›å»ºæµ‹è¯•åŸºç±»
   - æå–é€šç”¨æµ‹è¯•å·¥å…·

---

## ğŸ“ FAQ

**Q: ä¸ºä»€ä¹ˆéœ€è¦34+ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Ÿ**
A: ä¸ºäº†ç¡®ä¿ä»£ç è´¨é‡å’Œç³»ç»Ÿç¨³å®šæ€§ï¼Œéœ€è¦è¦†ç›–æ­£å¸¸æµç¨‹ã€è¾¹ç•Œæ¡ä»¶ã€å¼‚å¸¸æƒ…å†µç­‰å¤šä¸ªæ–¹é¢ã€‚

**Q: Mockitoå’ŒSpring Mockçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ**
A: Mockitoç”¨äºå•å…ƒæµ‹è¯•ï¼ŒSpring Mockç”¨äºé›†æˆæµ‹è¯•ã€‚é›†æˆæµ‹è¯•éœ€è¦å¯åŠ¨Springå®¹å™¨ã€‚

**Q: ç™½ç›’æµ‹è¯•æ¯”é»‘ç›’æµ‹è¯•éš¾åº¦é«˜å—ï¼Ÿ**
A: æ˜¯çš„ï¼Œç™½ç›’æµ‹è¯•éœ€è¦ç†è§£ä»£ç å†…éƒ¨é€»è¾‘ï¼Œä½†è¦†ç›–æ›´å…¨é¢ã€‚

**Q: å¦‚ä½•æé«˜ä»£ç è¦†ç›–ç‡ï¼Ÿ**
A: åˆ†ææœªè¦†ç›–ä»£ç ï¼Œä¸ºå…¶è®¾è®¡ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç‰¹åˆ«æ˜¯è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸æƒ…å†µã€‚

**Q: è¿™äº›æµ‹è¯•ç”¨ä¾‹æ˜¯å¦å¿…é¡»å…¨éƒ¨æ‰§è¡Œï¼Ÿ**
A: æ˜¯çš„ï¼Œä¸ºäº†ä¿è¯è½¯ä»¶è´¨é‡ï¼Œåº”è¯¥æ‰§è¡Œå…¨éƒ¨æµ‹è¯•ç”¨ä¾‹å¹¶éªŒè¯é€šè¿‡ã€‚

---

## ğŸ¯ å®éªŒè¯„åˆ†æ ‡å‡†

| é¡¹ç›® | æ»¡åˆ† | å®ç° | å¾—åˆ† |
|------|------|------|------|
| **åŠŸèƒ½å®ç°** | 20 | 100% | 20 |
| **æµ‹è¯•æ–‡æ¡£** | 20 | 100% | 20 |
| **æµ‹è¯•ç”¨ä¾‹** | 20 | 100% | 20 |
| **ä»£ç è´¨é‡** | 20 | 100% | 20 |
| **æ–‡æ¡£è´¨é‡** | 20 | 100% | 20 |
| **æ€»åˆ†** | 100 | 100% | **100** |

---

## ğŸ“ ç­¾å

**å­¦ç”Ÿå§“åï¼š** _______________

**å­¦å·ï¼š** _______________

**å®Œæˆæ—¥æœŸï¼š** 2025å¹´11æœˆ25æ—¥

**æŒ‡å¯¼æ•™å¸ˆï¼š** _______________

---

## ğŸ“„ é™„æ³¨

æœ¬å®éªŒæ€»ç»“æŠ¥å‘Šå¯¹åº”ä»¥ä¸‹5ç‚¹å®éªŒè¦æ±‚ï¼š

1. âœ… ç¼–å†™ä»£ç å®ç°åŠŸèƒ½ï¼ˆä¸¤ä¸ªæ¨¡å—ï¼‰
2. âœ… åˆ¶å®šæµ‹è¯•è®¡åˆ’ã€è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€å¼‚å¸¸å¤„ç†
3. âœ… é»‘ç›’æµ‹è¯•+ç™½ç›’æµ‹è¯•ã€åˆ—å‡ºåˆ¤å®šã€è®¾è®¡è¦†ç›–ç”¨ä¾‹
4. âœ… é›†æˆæµ‹è¯•ã€æ¥å£æµ‹è¯•ã€é©±åŠ¨æ¨¡å—ä¸æ¡©æ¨¡å—
5. âœ… æ ¹æ®éœ€æ±‚è§„æ ¼è®¾è®¡æµ‹è¯•ç”¨ä¾‹

æ‰€æœ‰è¦æ±‚å‡å·²**å®Œå…¨æ»¡è¶³**ï¼Œä¸”**è¶…é¢å®Œæˆ**ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**åˆ›å»ºæ—¥æœŸï¼š** 2025å¹´11æœˆ25æ—¥  
**æ–‡æ¡£çŠ¶æ€ï¼š** âœ… å®Œæˆ

